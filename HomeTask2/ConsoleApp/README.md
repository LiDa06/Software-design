# Проект №2

## Структура:
СonsoleApp/  
│  
├── Commands/ ← Паттерн Command + Decorator  
│ ├── AddOperationCommand.cs ← Команда добавления операции  
│ ├── CommandTimerDecorator.cs ← Декоратор измерения времени выполнения команды  
│ └── ICommand.cs ← Интерфейс команды  
│  
├── DataFiles/ ← Папка для экспортируемых и импортируемых данных (JSON, CSV)  
│  
├── Domain/ ← Фабричные методы  
│ └── Factory.cs ← Cоздание доменных объектов  
│  
├── Facades/ ← Паттерн Facade
│ ├── AnalyticsFacade.cs ← Аналитика по операциям  
│ ├── BankAccountFacade.cs ← Управление банковскими счетами  
│ ├── CategoryFacade.cs ← Управление категориями  
│ └── OperationFacade.cs ← Управление операциями  
│  
├── ImportExportData/ ← Импорт и экспорт  
│ ├── CsvImporter.cs ← Импорт CSV   
│ ├── DataImporter.cs ← Абстрактный класс импорта   
│ ├── IExportVisitor.cs ← Интерфейс посетителя (Visitor)  
│ └── JsonImporter.cs ← Импорт JSON      
│
├── Models/ ← Сущности предметной области  
│ ├── BankAccount.cs ← Модель банковского счёта  
│ ├── Category.cs ← Модель категории  
│ ├── ExportedData.cs ← Контейнер всех данных для импорта/экспорта   
│ └── Operation.cs ← Модель операции  
│  
├── Repositories/ ← Репозитории данных (паттерн Repository)  
│ ├── InMemoryRepository.cs ← Реализация репозитория в памяти  
│ └── IRepository.cs ← Интерфейс репозитория  
│  
├── UI/ ← Пользовательский интерфейс (консольное взаимодействие)  
│ ├── ConsoleMenu.cs ← Главное меню программы  
│ └── SubMenus/ ← Подменю по функциональности  
│   ├── AccountMenu.cs ← Меню управления счетами  
│   ├── CategoryMenu.cs ← Меню категорий  
│   ├── OperationMenu.cs ← Меню операций  
│   ├── AnalyticsMenu.cs ← Меню аналитики  
│   └── ImportExportMenu.cs ← Меню импорта/экспорта данных  
│
├── Program.cs ← Точка входа и запуск меню    
└── README.md ← Документация проекта  

## Запуск
    Открываем в любой среде (я писала в VS), запускаем. Кажется, дальше должно быть просто 

    P.S. При использовании программы и просмотре архитекруты может возникнуть ощущение, что в программе реализован импорт данных - это фейк, на импорт данных не хватило бюджета, так что он фантомный и его запускать не надо...)

## Применение принципов SOLID
1. S - Каждый класс решает строго одну задачу:
- `AccountFacade`, `OperationFacade`, `CategoryFacade` — отдельная работа с одной сущностью;
- `ImportFacade` — отвечает только за импорт данных;
- `JsonExportVisitor` — только экспорт данных в JSON.
2. O - Система легко расширяется:
 Добавление нового формата экспорта (или нормальная реализация уже существующих через `<ФорматЭкспорта>ExportVisitor`)
3. L - Любая реализация `IRepository<T>` может быть заменена другой (например, `InMemoryRepository` на `FileRepository`),  
не нарушая работу фасадов.
4. I - Интерфейсы содержат только нужные методы:
- `ICommand` — только `Execute()`;
- `IExportVisitor` — только методы экспорта;
- `IRepository` — CRUD-операции.
5. D - Все зависимости внедряются через **DI-контейнер (`ServiceCollection`)** в `Program.cs`.

## Применение принципов GRASP 
| Принцип | Реализация | Назначение |
|----------|-------------|------------|
| **Controller** | `ConsoleMenu` и подменю | Управление пользовательскими действиями |
| **Creator** | `DomainFactory` | Создание доменных объектов |
| **Indirection** | `Facades` | Посредник между UI и бизнес-логикой |
| **Low Coupling / High Cohesion** | Вся архитектура | Минимальные связи между слоями |
| **Pure Fabrication** | `Repository` | Логика хранения данных вынесена отдельно |

## Паттерны GoF
| № | Паттерн | Где реализован | Назначение |
|---|----------|----------------|-------------|
| 1 | **Command** | `AddOperationCommand` | Инкапсуляция пользовательских действий |
| 2 | **Decorator** | `CommandTimerDecorator` | Добавление измерения времени выполнения |
| 3 | **Factory Method** | `Factory` | Создание объектов предметной области |
| 4 | **Repository** | `IRepository`, `InMemoryRepository` | Изолирует доступ к данным |
| 5 | **Facade** | Папка `Facades/` | Объединяет подсистемы под единым интерфейсом |
| 6 | **Visitor** | `IExportVisitor` | Расширяемость экспорта |
| 7 | **Dependency Injection** | `Program.cs` | Внедрение зависимостей |